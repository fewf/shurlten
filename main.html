<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>url shortener</title>
		<style type="text/css">

		</style>
	</head>
	<body>
	<form method="get" action="/addurl/">
		<input id="url" name="url" type="url" size="50"/>
		<input type="submit" id="btn" />
	</form>
		<script type="text/javascript">
(function(window, document) {

var hasURLtype, submit, input, form;

// find out if browser supports url input type
var i = document.createElement("input");
i.setAttribute("type", "color");
hasURLtype = i.type !== "text";

if (!hasURLtype) {
	form.addEventListener('submit', function(){
		if (!ValidURL(input.value);
		input.css('border-color', 'red pink');
		return false;
	});
}

form = document.getElementByTagName('form');
submit = document.getElementById('btn');
input = document.getElementById('url');

// below found on github. fails for some cromulent URLs. only used
// if  browser does not support input type url.
function ValidURL(str) {
	var pattern = new RegExp('^(https?:\\/\\/)?'+ // protocol
	'((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|'+ // domain name
	'((\\d{1,3}\\.){3}\\d{1,3}))'+ // OR ip (v4) address
	'(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*'+ // port and path
	'(\\?[;&a-z\\d%_.~+=-]*)?'+ // query string
	'(\\#[-a-z\\d_]*)?$','i'); // fragment locator
	if(!pattern.test(str)) {
		return false;
	} else {
		return true;
	}
}
}(window, document));


		</script>
	</body>
</html>